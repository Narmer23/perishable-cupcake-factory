(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"0959":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{attrs:{padding:""}},[a("div",{staticClass:"row q-col-gutter-md"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"row items-center justify-between"},[a("div",{staticClass:"col text-h6 text-secondary"},[t._v("\n          Unità di misura\n        ")]),a("div",{staticClass:"col-auto"},[a("q-btn",{attrs:{label:"Crea nuova unità di misura",icon:"add",color:"primary"},on:{click:t.createNewUom}})],1)])]),t.loading||t.uoms.length?t._e():a("div",{staticClass:"col-12"},[t._v("\n      Non ci sono unità di misura disponibili.\n      "),a("q-btn",{attrs:{label:"Creane una",color:"primary"},on:{click:t.createNewUom}})],1),t._l(t.uoms,(function(e){return a("div",{key:e.id,staticClass:"col-auto"},[a("q-card",{staticStyle:{"min-width":"300px"}},[a("q-card-section",[a("div",{staticClass:"row justify-between items-center q-col-gutter-md"},[a("div",{staticClass:"col"},[a("div",{staticClass:"text-h6 ellipsis"},[t._v("\n                "+t._s(e.name)+" ("+t._s(e.label)+")\n              ")])]),a("div",{staticClass:"col-auto"},[a("q-btn",{attrs:{color:"grey-7",round:"",flat:"",dense:"",icon:"edit"},on:{click:function(a){return t.modifyUom(e)}}}),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"delete",color:"negative"},on:{click:function(a){return t.deleteUom(e.id)}}})],1)])])],1)],1)}))],2)])},n=[],o=(a("e6cf"),a("1139")),l=a("3a63"),s={data(){return{loading:!0,uoms:[]}},async mounted(){try{this.uoms=await o["a"].getAll()}catch(t){this.$q.notify({type:"negative",message:"Errore nel recuperare la lista degli uomi"})}finally{this.loading=!1}},methods:{createNewUom(){this.$q.dialog({component:l["a"],parent:this,uom:{}}).onOk((t=>{this.uoms.push(t)}))},modifyUom(t){this.$q.dialog({component:l["a"],parent:this,uom:t}).onOk((t=>{let e=this.uoms.findIndex((e=>e.id==t.id));this.uoms.splice(e,1,t)}))},async deleteUom(t){await o["a"].delete(t);let e=this.uoms.findIndex((e=>e.id==t));e>=0&&this.uoms.splice(e,1)}}},r=s,c=a("2877"),d=a("9989"),u=a("9c40"),m=a("f09f"),h=a("a370"),p=a("eebe"),g=a.n(p),f=Object(c["a"])(r,i,n,!1,null,null,null);e["default"]=f.exports;g()(f,"components",{QPage:d["a"],QBtn:u["a"],QCard:m["a"],QCardSection:h["a"]})},1139:function(t,e,a){"use strict";a("e6cf");var i=a("9440");e["a"]={async getAll(){let{data:t}=await i["a"].get("/rest/uoms");return t},async getById(t){let{data:e}=await i["a"].get(`/rest/uoms/${t}`);return e},async create(t){let{data:e}=await i["a"].post("/rest/uoms",t);return e},async patch(t){let{data:e}=await i["a"].patch("/rest/uoms",t);return e},async delete(t){let{data:e}=await i["a"].delete(`/rest/uoms/${t}`);return e}}},"3a63":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{ref:"dialog",on:{hide:t.onDialogHide}},[a("q-card",{staticClass:"q-dialog-plugin"},[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v("\n        Unità di misura\n      ")])]),a("q-card-section",[a("q-input",{attrs:{label:"Nome",placeholder:"e.g. 'Grammi'",error:t.$v.internalUom.name.$error},model:{value:t.internalUom.name,callback:function(e){t.$set(t.internalUom,"name",e)},expression:"internalUom.name"}}),a("q-input",{attrs:{label:"Etichetta",placeholder:"e.g. 'g'",error:t.$v.internalUom.label.$error},model:{value:t.internalUom.label,callback:function(e){t.$set(t.internalUom,"label",e)},expression:"internalUom.label"}})],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{color:"primary",label:"Salva",disable:t.$v.internalUom.$invalid},on:{click:t.onOKClick}}),a("q-btn",{attrs:{color:"primary",label:"Cancel",flat:""},on:{click:t.onCancelClick}})],1)],1)],1)},n=[],o=a("ded3"),l=a.n(o),s=(a("e6cf"),a("b5ae")),r=a("1139"),c={props:["uom"],data(){return{internalUom:{}}},validations:{internalUom:{name:{required:s["required"]},label:{required:s["required"]}}},created(){this.internalUom=l()({},this.uom)},methods:{show(){this.$refs.dialog.show()},hide(){this.$refs.dialog.hide()},onDialogHide(){this.$emit("hide")},async onOKClick(){try{let t;t=this.internalUom.id?await r["a"].patch(this.internalUom):await r["a"].create(this.internalUom),this.$emit("ok",t),this.hide()}catch(t){console.log(t),this.internalUom=l()({},this.uom)}},onCancelClick(){this.hide()}}},d=c,u=a("2877"),m=a("24e8"),h=a("f09f"),p=a("a370"),g=a("27f9"),f=a("4b7e"),b=a("9c40"),v=a("eebe"),C=a.n(v),q=Object(u["a"])(d,i,n,!1,null,null,null);e["a"]=q.exports;C()(q,"components",{QDialog:m["a"],QCard:h["a"],QCardSection:p["a"],QInput:g["a"],QCardActions:f["a"],QBtn:b["a"]})}}]);